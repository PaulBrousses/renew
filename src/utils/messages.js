// Messages riches avec faits scientifiques et bÃ©nÃ©fices dÃ©taillÃ©s
export const richMessages = {
  // Messages spÃ©ciaux pour les Ã©tapes clÃ©s
  milestones: {
    1: {
      alcohol: {
        title: "Premier jour accompli ! ðŸŒ…",
        message: "Ton taux de sucre dans le sang commence dÃ©jÃ  Ã  se normaliser. Dans 12h, ton corps Ã©liminera complÃ¨tement l'alcool.",
        fact: "ðŸ’¡ Le saviez-vous ? AprÃ¨s 24h, les risques de crise cardiaque diminuent dÃ©jÃ ."
      },
      cigarette: {
        title: "24h sans fumÃ©e ! ðŸš­", 
        message: "Ton monoxyde de carbone sanguin est revenu Ã  la normale. Tes poumons commencent Ã  Ã©vacuer le mucus et les rÃ©sidus.",
        fact: "ðŸ’¡ En 20 minutes seulement, ton rythme cardiaque et ta tension artÃ©rielle baissent."
      },
      both: {
        title: "Double victoire ! ðŸŽ¯",
        message: "Ton corps entame une dÃ©tox complÃ¨te. Circulation sanguine amÃ©liorÃ©e, oxygÃ©nation optimisÃ©e.",
        fact: "ðŸ’¡ Tu viens de faire le choix le plus important pour ta santÃ© future."
      }
    },
    3: {
      alcohol: {
        title: "72h de libertÃ© ! âš¡",
        message: "Ton foie commence sa rÃ©gÃ©nÃ©ration. Les enzymes hÃ©patiques se normalisent. Tu dors probablement mieux.",
        fact: "ðŸ’¡ Le foie peut se rÃ©gÃ©nÃ©rer jusqu'Ã  75% de sa masse en quelques semaines."
      },
      cigarette: {
        title: "3 jours smoke-free ! ðŸŒ¬ï¸",
        message: "Toute la nicotine a quittÃ© ton corps. Tes bronches se dÃ©tendent, tu respires plus facilement.",
        fact: "ðŸ’¡ Tes papilles gustatives et ton odorat commencent Ã  se rÃ©gÃ©nÃ©rer."
      },
      both: {
        title: "Le cap critique ! ðŸ”¥",
        message: "Les symptÃ´mes de sevrage physique atteignent leur pic puis diminuent. Le plus dur est derriÃ¨re toi.",
        fact: "ðŸ’¡ Statistiquement, passer les 3 premiers jours multiplie tes chances de rÃ©ussite par 5."
      }
    },
    7: {
      alcohol: {
        title: "Une semaine de sobriÃ©tÃ© ! ðŸŽ‰",
        message: "Ton sommeil REM s'amÃ©liore drastiquement. Ton systÃ¨me immunitaire se renforce. Tu Ã©conomises dÃ©jÃ  84â‚¬ en moyenne.",
        fact: "ðŸ’¡ Une semaine sans alcool amÃ©liore la qualitÃ© du sommeil de 40%."
      },
      cigarette: {
        title: "7 jours sans cigarette ! ðŸ†",
        message: "Tes poumons Ã©vacuent activement les toxines. Ton goÃ»t et ton odorat sont 2x plus sensibles qu'avant.",
        fact: "ðŸ’¡ En une semaine, tu as Ã©conomisÃ© environ 50â‚¬ et Ã©vitÃ© 140 cigarettes."
      },
      both: {
        title: "Champion de la semaine ! ðŸ‘‘",
        message: "Ton corps Ã©limine massivement les toxines. Ã‰nergie, concentration et humeur s'amÃ©liorent nettement.",
        fact: "ðŸ’¡ Seulement 15% des gens atteignent une semaine. Tu fais partie de l'Ã©lite !"
      }
    },
    14: {
      alcohol: {
        title: "Deux semaines de clartÃ© ! ðŸ§ ",
        message: "Ton cerveau produit Ã  nouveau naturellement de la dopamine. AnxiÃ©tÃ© et dÃ©pression diminuent significativement.",
        fact: "ðŸ’¡ AprÃ¨s 2 semaines, les fonctions cognitives s'amÃ©liorent de 25%."
      },
      cigarette: {
        title: "14 jours de respiration ! ðŸ’¨",
        message: "Ta circulation sanguine s'amÃ©liore drastiquement. Tes poumons fonctionnent 30% mieux qu'au jour 1.",
        fact: "ðŸ’¡ Tes risques d'infarctus ont dÃ©jÃ  diminuÃ© de 50%."
      },
      both: {
        title: "Transformation visible ! âœ¨",
        message: "Ta peau retrouve son Ã©clat, tes yeux sont plus clairs. Ton entourage remarque le changement.",
        fact: "ðŸ’¡ Deux semaines marquent souvent le tournant psychologique dÃ©cisif."
      }
    },
    30: {
      alcohol: {
        title: "UN MOIS COMPLET ! ðŸ†",
        message: "Ton foie a Ã©liminÃ© la graisse accumulÃ©e. Ta tension artÃ©rielle est optimale. Tu as Ã©conomisÃ© plus de 360â‚¬.",
        fact: "ðŸ’¡ Un mois sans alcool rÃ©duit les risques de cancer du foie de 15%."
      },
      cigarette: {
        title: "30 jours smoke-free ! ðŸŒŸ",
        message: "Tes poumons ont Ã©vacuÃ© la majoritÃ© des goudrons. Ta capacitÃ© pulmonaire a augmentÃ© de 10%.",
        fact: "ðŸ’¡ En un mois, tu as Ã©vitÃ© 600 cigarettes et 12mg de goudron."
      },
      both: {
        title: "LÃ©gende du mois ! ðŸ‘‘",
        message: "Ton systÃ¨me cardiovasculaire fonctionne comme une machine neuve. Endurance et vitalitÃ© au top.",
        fact: "ðŸ’¡ Moins de 5% des gens atteignent un mois complet. Tu es exceptionnel !"
      }
    },
    90: {
      alcohol: {
        title: "3 MOIS DE LIBERTÃ‰ ! ðŸš€",
        message: "Ton cerveau a recÃ¢blÃ© ses circuits de rÃ©compense. L'envie d'alcool appartient au passÃ©.",
        fact: "ðŸ’¡ AprÃ¨s 3 mois, les risques de rechute chutent de 80%."
      },
      cigarette: {
        title: "90 jours sans fumÃ©e ! ðŸŒˆ",
        message: "Tes poumons ont retrouvÃ© 50% de leur capacitÃ© d'origine. Ton souffle est celui d'un non-fumeur.",
        fact: "ðŸ’¡ 3 mois sans cigarette Ã©quivaut Ã  gagner 1 mois d'espÃ©rance de vie."
      },
      both: {
        title: "MaÃ®tre de la sobriÃ©tÃ© ! ðŸŽ¯",
        message: "Tu as officiellement cassÃ© toutes tes habitudes destructrices. C'est un nouveau mode de vie.",
        fact: "ðŸ’¡ Tu fais partie des 2% qui atteignent 90 jours. Respect total !"
      }
    }
  },

  // Messages quotidiens variÃ©s avec rotation
  daily: {
    alcohol: [
      {
        message: "Chaque verre non bu, c'est 150 calories Ã©conomisÃ©es et ton foie qui te dit merci.",
        tip: "ðŸ’¡ Astuce : Remplace par de l'eau pÃ©tillante avec du citron, mÃªme plaisir sans les dÃ©gÃ¢ts."
      },
      {
        message: "L'alcool perturbe 5 phases du sommeil. Sans lui, tu rÃ©cupÃ¨res 40% mieux.",
        tip: "ðŸ’¡ Le saviez-vous ? L'alcool empÃªche le sommeil REM, crucial pour la mÃ©moire."
      },
      {
        message: "Ton systÃ¨me immunitaire se renforce chaque jour sans alcool. Moins de rhumes cette annÃ©e !",
        tip: "ðŸ’¡ L'alcool affaiblit les globules blancs pendant 24h aprÃ¨s consommation."
      },
      {
        message: "Sans alcool, ton cerveau produit naturellement plus de sÃ©rotonine. Humeur au beau fixe !",
        tip: "ðŸ’¡ L'alcool Ã©puise la sÃ©rotonine, d'oÃ¹ la dÃ©prime du lendemain."
      },
      {
        message: "Chaque jour sobre, c'est 12â‚¬ Ã©conomisÃ©s en moyenne. Calcule tes Ã©conomies !",
        tip: "ðŸ’¡ Un franÃ§ais dÃ©pense en moyenne 4380â‚¬/an en alcool."
      }
    ],
    cigarette: [
      {
        message: "Chaque cigarette non fumÃ©e, ce sont 11 minutes de vie gagnÃ©es. Fais le calcul !",
        tip: "ðŸ’¡ Une cigarette contient plus de 4000 substances chimiques, dont 70 cancÃ©rigÃ¨nes."
      },
      {
        message: "Tes poumons Ã©liminent 1500 particules toxiques par jour depuis que tu as arrÃªtÃ©.",
        tip: "ðŸ’¡ Les cils vibratiles de tes bronches repoussent en 2-3 semaines."
      },
      {
        message: "Ta peau produit 30% plus de collagÃ¨ne sans nicotine. Anti-Ã¢ge naturel !",
        tip: "ðŸ’¡ Fumer rÃ©duit l'oxygÃ©nation de la peau de 40%."
      },
      {
        message: "Ton goÃ»t s'affine chaque jour. RedÃ©couvre les vraies saveurs de la vie !",
        tip: "ðŸ’¡ La nicotine dÃ©truit 2/3 des papilles gustatives."
      },
      {
        message: "Sans cigarette, ton rythme cardiaque au repos baisse de 10-15 battements/min.",
        tip: "ðŸ’¡ Chaque cigarette accÃ©lÃ¨re le cÅ“ur pendant 20 minutes."
      }
    ],
    both: [
      {
        message: "Double dÃ©tox en cours ! Ton corps Ã©limine simultanÃ©ment nicotine et Ã©thanol. Puissant !",
        tip: "ðŸ’¡ ArrÃªter les deux ensemble multiplie les bÃ©nÃ©fices santÃ© par 3."
      },
      {
        message: "Ton systÃ¨me cardiovasculaire fonctionne comme neuf. Circulation optimale !",
        tip: "ðŸ’¡ Alcool + tabac = risque cardiaque multipliÃ© par 8."
      },
      {
        message: "Tu Ã©conomises environ 20â‚¬/jour. De quoi te faire un super cadeau bientÃ´t !",
        tip: "ðŸ’¡ En un an, c'est plus de 7000â‚¬ d'Ã©conomies potentielles."
      }
    ]
  },

  // Messages de rechute bienveillants
  relapse: {
    alcohol: {
      message: "Une rechute n'efface pas tes progrÃ¨s. Ton foie garde sa mÃ©moire de rÃ©gÃ©nÃ©ration.",
      encouragement: "Chaque tentative t'apprend quelque chose. PrÃªt pour le round suivant ?"
    },
    cigarette: {
      message: "Tu as fumÃ© ? Tes poumons pardonnent vite. Ils recommencent Ã  guÃ©rir dÃ¨s maintenant.",
      encouragement: "Les champions tombent 7 fois, se relÃ¨vent 8. C'est ton tour !"
    },
    both: {
      message: "Rechute partielle ou totale, peu importe. L'important c'est de se relever.",
      encouragement: "Chaque jour sobre compte, mÃªme s'il y a des pauses. Continue !"
    }
  }
};

// Messages motivationnels pour les jours 'normaux'
export const motivationalMessages = [
  {
    message: "Ton futur toi de 80 ans te regarde et te dit merci pour chaque jour sobre.",
    category: "perspective"
  },
  {
    message: "Chaque 'non' que tu dis renforce ton muscle de la volontÃ©. Tu deviens plus fort.",
    category: "mental"
  },
  {
    message: "La sobriÃ©tÃ© n'est pas une privation, c'est un super-pouvoir que tu dÃ©veloppes.",
    category: "mindset"
  },
  {
    message: "Tes proches sont fiers de toi, mÃªme s'ils ne le disent pas toujours.",
    category: "social"
  },
  {
    message: "Tu construis une nouvelle identitÃ©, brick by brick. Sois patient avec toi-mÃªme.",
    category: "identity"
  }
];

// Fonction pour obtenir un message riche selon le jour et le contexte
export const getRichMessageForDay = (day, status, addictions, firstName = 'Paul') => {
  if (status === 'relapse') {
    const addictionKey = addictions.length === 1 ? addictions[0] : 'both';
    const relapseMsg = richMessages.relapse[addictionKey];
    return {
      title: "Pas de panique ðŸ’™",
      message: relapseMsg.message,
      tip: relapseMsg.encouragement
    };
  }

  // Messages pour les Ã©tapes clÃ©s
  const milestones = [1, 3, 7, 14, 30, 90];
  const milestone = milestones.find(m => day === m);
  
  if (milestone) {
    const addictionKey = addictions.length === 1 ? addictions[0] : 'both';
    const milestoneMsg = richMessages.milestones[milestone][addictionKey];
    return {
      title: milestoneMsg.title,
      message: `${firstName}, ${milestoneMsg.message}`,
      tip: milestoneMsg.fact
    };
  }

  // Messages quotidiens variÃ©s
  const addictionKey = addictions.length === 1 ? addictions[0] : 'both';
  const dailyMessages = richMessages.daily[addictionKey];
  const randomDaily = dailyMessages[day % dailyMessages.length];
  
  return {
    title: `Jour ${day} - Continue ! ðŸŒŸ`,
    message: `${firstName}, ${randomDaily.message}`,
    tip: randomDaily.tip
  };
};

// Fonction de compatibilitÃ© (ancienne API)
export const getMessageForDay = (day, status, addictions) => {
  const richMsg = getRichMessageForDay(day, status, addictions);
  return `${richMsg.title} ${richMsg.message}`;
};
